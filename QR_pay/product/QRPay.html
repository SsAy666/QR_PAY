<!doctype html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>QR码支付</title>
		<link href="/QR_pay/resources/css/bootstrap.min.css" rel="stylesheet" type="text/css">
		<script src="/QR_pay/resources/js/jquery-1.11.3.min.js" type="text/javascript"></script>
		<script src="/QR_pay/resources/bootstrap/js/bootstrap.min.js"></script>
		<script src="/QR_pay/resources/js/vue.js" type="text/javascript"></script>
		<script src="/QR_pay/resources/js/axios-0.18.0.js" type="text/javascript"></script>
		<script src="/QR_pay/resources/js/jquery-lzs-0.0.1.js" type="text/javascript"></script>
		<style>
			a:hover {
				text-decoration: none;
			}
		</style>
	</head>

	<body>
		<div class="container-fluid" id="app">
			<div id="header" style="min-height: 130px;">
				<div class="col-md-12">
					<img src="/QR_pay/resources/images/list_logo.png" />
				</div>
			</div>
			<div class="container">
				<div class="row">

					<div class="container-fluid">
						<div class="col-md-12" align="center">
							<img :src="'http://www.qrpaylzs.store:6002/product/saveQR/'+ qrPic" />
						</div>
						<div style="text-align: center;margin-top: 5px;margin-bottom:20px;">
							<button class="button" type="button" @click="saveQRcode()">保存二维码</button>
						</div>
					</div>
				</div>
			</div>
			<br>

			<div id="footer" class="footer" style="min-height: 203px;">
				<div style="text-align: center;margin-top: 5px;margin-bottom:20px;">
					Copyright &copy; QR Pay System
				</div>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		new Vue({
			el: '#app',
			data: {
				qrPic: "",
				backendUrl: "http://www.qrpaylzs.store:6002",
				webUrl: "http://www.qrpaylzs.store:8020/QR_pay"
			},
			beforeMount: function() {
				this.qrPic = HM.getParameter("qrPic");
			},
			methods: {
				saveQRcode() {
					/*var param = {
						qrPic: this.qrPic
					}*/
					location.href = this.backendUrl + "/product/saveQR/" + this.qrPic;
					/*axios.defaults.withCredentials = true;
					axios.get(this.backendUrl + "/product/saveQR/" + this.qrPic).then((res) => {
						alert(res.data.message);
						location.href = this.webUrl + "/product/list.html";
					})*/
				}
			}
		})
	</script>

</html>